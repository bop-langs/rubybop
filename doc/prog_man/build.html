<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
	<link type="text/css" rel=stylesheet href="style.css">
  </head>

<body>

<h1>Install and Build</h1>

<p>BOP annotations are provided in a header file. At run time, the annotations become calls to the BOP run-time library.  You need to install the header file and build the run-time library as follows.</p>

<p>Let <code>bop_dir</code> be the root of the installation (<code>cbop</code> under the cs258 repository).  The header file is <code>bop_dir/include/bop.h</code>.</p>

<p>To compile the BOP code, change directory to <code>bop_dir/INST/</code> and run <code>rake</code>.  The BOP run-time system is a statically linked library, <code>bop_dir/INST/inst.a</code>.</p>

<p>Assuming you have a C program, <code>test.c</code>, which is parallelized using the BOP annotations.  To compile a sequential version of the program:</p>

<pre class="programlisting">
gcc -g3 -I bop_dir/include test.c -o test_orig
</pre>

<p>To compile the parallel version:</p>

<pre class="programlisting">
gcc -g3 -I bop_dir/include test.c bop_dir/INST/inst.a -o test_bop
</pre>

<p>It is recommended to modify the example rakefile in one of the provided tests, e.g. <code>bop_dir/tests/add/byte/rakefile</code>.  The rakefile automatically searches for the include and library path and generates an additional executable <code>.seq</code> for use in debugging.</p>

</body>
</html>